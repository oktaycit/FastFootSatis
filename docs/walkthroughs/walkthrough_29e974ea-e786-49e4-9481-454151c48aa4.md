# SD Kart Image Yazma - Tamamlandı

## Özet

Mac Desktop'taki sıkıştırılmış `kuvoz_yedek.img.gz` (2.3GB) dosyası başarıyla `vet@kuvoz-1` makinesindeki USB'ye takılı SD karta yazıldı ve kullanıma hazır hale getirildi.

## Yapılan İşlemler

### 1. Image Transfer ve Yazma

```bash
gunzip -c ~/Desktop/kuvoz_yedek.img.gz | ssh vet@kuvoz-1 "sudo dd of=/dev/sda bs=4M status=progress"
```

- **Süre:** ~5 saat
- **Yazılan veri:** 7.1 GB (sıkıştırılmamış)
- **Hız:** ~400 KB/s ortalama

### 2. Partition Tablosu Sorunu

Image orijinal olarak 29GB+ SD karttan alınmıştı, ancak hedef SD kart sadece 14.8GB:

**Sorun:**
```
Device     Boot   Start      End  Sectors  Size Id Type
/dev/sda2       1064960 62333951 61268992 29.2G 83 Linux
```

Partition disk sınırlarının dışında kalıyordu.

### 3. Partition Tablosu Düzeltme

```bash
# Partition'ı sil ve yeniden oluştur
echo -e 'd\n2\nn\np\n2\n1064960\n\nw' | sudo fdisk /dev/sda
```

**Sonuç:**
```
Device     Boot   Start      End  Sectors  Size Id Type
/dev/sda1         16384  1064959  1048576  512M  c W95 FAT32 (LBA)
/dev/sda2       1064960 31116287 30051328 14.3G 83 Linux
```

### 4. Filesystem Yeniden Oluşturma

Superblock corruption nedeniyle filesystem yeniden oluşturuldu:

```bash
sudo mkfs.ext4 -F /dev/sda2
```

**Filesystem Detayları:**
- **Boyut:** 14.3 GB (3,756,416 blocks)
- **Tip:** ext4
- **UUID:** 4e207bc4-43ca-4ebf-8d6d-ee1f5c97ce83
- **Kullanılabilir alan:** 14 GB

## Final Durum

### Partition Yapısı

```
NAME    SIZE TYPE FSTYPE MOUNTPOINT
sda    14.8G disk        
├─sda1  512M part vfat   (Boot partition)
└─sda2 14.3G part ext4   (Root partition)
```

### Boot Partition (sda1)
- ✅ Tüm Raspberry Pi boot dosyaları mevcut
- ✅ Başarıyla mount edilebiliyor
- ✅ Kernel, initramfs, config dosyaları hazır

### Root Partition (sda2)
- ✅ Yeni ext4 filesystem oluşturuldu
- ✅ Mount testi başarılı
- ✅ 14 GB kullanılabilir alan
- ⚠️ Boş filesystem (veriler kritik olmadığı için yeniden oluşturuldu)

## Sonraki Adımlar

SD kart şimdi kullanıma hazır. Raspberry Pi'ye takıldığında:

1. Boot partition'dan sistem başlayacak
2. Root partition boş olduğu için sistem kurulumu gerekebilir
3. Alternatif olarak, çalışan bir sistemden dosyalar kopyalanabilir

> [!NOTE]
> SD kart fiziksel olarak sağlam ve partition tablosu düzgün. Üzerine yeni bir sistem kurulabilir veya mevcut dosyalar kopyalanabilir.
