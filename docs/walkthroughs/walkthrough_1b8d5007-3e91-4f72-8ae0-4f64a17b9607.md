# QR MenÃ¼ + Online SipariÅŸ â€” TamamlandÄ±

## Ne YapÄ±ldÄ±

### 1. Backend â€” `web_server.py`

| DeÄŸiÅŸiklik | AÃ§Ä±klama |
|---|---|
| `verify_mode` â†’ `config.txt` | ArtÄ±k uygulama baÅŸlatmadan ayarlanabilir |
| `POST /api/public/policy/update` | Settings'den doÄŸrulama modunu deÄŸiÅŸtirme |
| `POST /api/online/order` | Uzaktan sipariÅŸ alma (ad, telefon, adres, Ã¶deme tipi) |
| `GET /api/online/orders` | Kasada "Online - Ad" adisyonlarÄ±nÄ± listeleme |
| `odeme_tipi` alanÄ± | `nakit` veya `kart` â€” kurye POS ile Ã¶deme alacak |

### 2. VeritabanÄ± â€” `database.py`

Yeni `online_orders` tablosu:
```sql
id, musteri_adi, telefon, adres, not_bilgisi,
items (JSONB), odeme_tipi, adisyon_adi, durum, olusturma
```
Yeni metodlar: `save_online_order`, `get_online_orders`, `update_online_order_status`

---

### 3. MÃ¼ÅŸteri SayfasÄ± â€” `customer_menu.html`

**Masa modu** (`/menu/public?table_hint=Masa+1`):
- MenÃ¼ herkes tarafÄ±ndan gÃ¶rÃ¼lebilir
- SipariÅŸ iÃ§in NFC veya Dinamik QR doÄŸrulamasÄ± istenir

**Online modu** (`/menu/public?mode=online`):
- QR/NFC paneli gizlenir
- Ad Soyad, Telefon, Teslimat Adresi, Not formu gÃ¶sterilir
- **Ã–deme yÃ¶ntemi:** ğŸ’µ KapÄ±da Nakit  veya  ğŸ’³ KapÄ±da Kart (POS)
- BaÅŸarÄ± ekranÄ±: Ã¶deme tipine gÃ¶re "Kurye POS ile gelecek" mesajÄ±

---

### 4. Settings â€” `settings.html`

Yeni **"ğŸ“± QR MenÃ¼ & Online SipariÅŸ"** bÃ¶lÃ¼mÃ¼:
- **Masa doÄŸrulama modu** seÃ§ici: Hibrit / QR / NFC / Yok
- **Online sipariÅŸ** aÃ§Ä±k/kapalÄ± toggle
- Kopyalanabilir **QR MenÃ¼** ve **Online SipariÅŸ** URL'leri
- Kaydet butonu policy'yi otomatik gÃ¼nceller

---

## KullanÄ±m URL'leri

| AmaÃ§ | URL |
|---|---|
| Masaya yapÄ±ÅŸtÄ±rÄ±lan sabit QR | `http://[ip]:8000/menu/public?table_hint=Masa+1` |
| Online sipariÅŸ (Instagram, WhatsApp) | `http://[ip]:8000/menu/public?mode=online` |

## Kasiyer AkÄ±ÅŸÄ±

Online sipariÅŸ geldiÄŸinde kasada **"Online - Ali Veli"** adlÄ± yeni bir adisyon belirir. Kasiyer bunu diÄŸer paket sipariÅŸler gibi iÅŸler. Ã–deme tipi kartsa kurye kapÄ±da POS cihazÄ±yla tahsil eder.

## Syntax KontrolÃ¼
```
âœ… web_server.py â€” OK
âœ… database.py â€” OK
```
